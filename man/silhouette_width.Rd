% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metrics.R
\name{silhouette_width}
\alias{silhouette_width}
\title{batch_sil}
\usage{
silhouette_width(pca.data, batch, nPCs = 3)
}
\arguments{
\item{pca.data}{a list as created by \code{prcomp},
\code{batch_sil.R} needs \code{$x}:
the principal components (PCs,
correctly: the rotated data)}

\item{batch}{vector with the batch
covariate (for each cell)}

\item{nPCs}{the number of principal components
to use (default: 3)}
}
\value{
The average silhouette width for all clusters.
    For batch effect, the smaller the better.
    For biological effect, the larger the better.
}
\description{
Determine batch/bio effect using the silhouette
    coefficient (adopted from scone):
}
\examples{
    testdata <- create_testset_multibatch(n.genes=1000,
                  n.batch=3, plattform='any')
    pca.data <- prcomp(testdata$data, center=TRUE)
    batch.silhouette <- batch_sil(pca.data, testdata$batch)

}
